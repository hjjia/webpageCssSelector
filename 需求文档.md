好的，这是一份为开发者编写的、详细的 **《CSS/样式提取器》浏览器插件需求文档（PRD）** 。本文档旨在清晰定义产品的功能、设计和开发要求，确保开发团队能够高效、准确地执行。

---

# CSS Master: 样式提取器 需求文档 (v1.0)

## 1. 项目概述

### 1.1. 产品愿景
为设计师和前端开发者打造一款精准、快速、优雅的浏览器插件，用于一键分析网页的视觉设计风格（色彩、字体），并能够提取任意元素的样式代码，同时支持导出为现代开发工作流（如Tailwind CSS）的配置格式，极大提升工作流效率。

### 1.2. 目标用户
- **UI/UX 设计师**
- **前端开发者**
- **全栈开发者**
- **对网页设计感兴趣的内容创作者**

### 1.3. 核心价值主张
- **省时**：一键取代手动拾色、计算间距、查看代码。
- **精准**：直接获取计算后的CSS值，避免肉眼误差。
- **智能**：将原始CSS智能转换为流行的工具链配置。
- **美观**：提供愉悦、直观的用户体验。

## 2. 功能需求 (Functional Requirements)

### 2.1. 核心功能

#### **FR1: 页面全局样式分析**
- **功能描述**：用户点击插件图标后，插件应能快速分析当前激活页面的全局样式。
- **子功能**：
    - **FR1.1: 色彩调色板提取**：自动提取页面中使用频率最高的 **5-8种颜色**（背景、文字、主题色），并以色块网格形式展示。
    - **FR1.2: 字体堆栈提取**：自动提取页面中使用最多的 **3-5种字体家族（font-family）**，并按使用频率降序排列。
    - **FR1.3: 数据展示**：在插件的Popup弹窗中清晰展示以上信息。

#### **FR2: 元素级样式提取**
- **功能描述**：用户进入“元素拾取模式”后，可以点击页面上的任何元素，并查看其详细的样式信息。
- **子功能**：
    - **FR2.1: 激活拾取模式**：点击插件Popup中的“Pick Element”按钮，光标变为“十字准星”。
    - **FR2.2: 样式信息显示**：点击元素后，在Popup中显示该元素的以下信息：
        - **基本属性**：尺寸 (Width/Height), 外边距 (Margin), 内边距 (Padding), 定位 (Position)。
        - **色彩**：背景色 (Background-color), 文字颜色 (Color), 边框色 (Border-color)。
        - **字体**：字体家族 (Font-family), 字号 (Font-size), 字重 (Font-weight), 行高 (Line-height)。
        - **其他**：边框圆角 (Border-radius), 阴影 (Box-shadow) 等。
    - **FR2.3: 代码输出**：提供切换选项卡，允许用户查看“原始CSS”或“Tailwind CSS”版本的样式代码。

#### **FR3: 导出与复制功能**
- **功能描述**：用户可以将分析结果复制到剪贴板或导出为文件。
- **子功能**：
    - **FR3.1: 一键复制**：为每个颜色值、字体栈、代码块提供“复制”图标，点击后将其值复制到剪贴板。
    - **FR3.2: 导出配置**：
        - **(付费功能) 导出为Tailwind配置**：将全局色彩和字体导出为一个标准的 `tailwind.config.js` 文件格式。
        - **(付费功能) 批量复制**：一键复制所有提取到的颜色或字体。

### 2.2. 用户体验 (UX) 需求

#### **FR4: 用户界面与交互**
- **功能描述**：插件界面应直观、美观且响应迅速。
- **子功能**：
    - **FR4.1: Popup设计**：Popup尺寸约为 `400px x 500px`，采用分选项卡（Tab）设计（例如：“Overview”， “Element”）。
    - **FR4.2: 视觉反馈**：所有交互（如复制成功、拾取模式激活）都应有清晰的视觉反馈（如Toast提示、光标变化）。
    - **FR4.3: 无障碍访问**：支持键盘导航和适当的ARIA标签。

## 3. 非功能需求 (Non-Functional Requirements)

- **NF1: 性能**：全局分析应在 **3秒** 内完成，元素样式提取应**即时**响应。
- **NF2: 兼容性**：支持 Chrome、Edge 等 Chromium 内核浏览器 (Manifest V3)。
- **NF3: 准确性**：提取的样式必须是通过 `window.getComputedStyle()` 获取的精确计算值。
- **NF4: 用户体验**：界面设计应遵循现代UI设计原则，美观且易用。

## 4. 技术栈建议

- **浏览器插件框架**: Manifest V3
- **前端**: Vanilla JS / React (轻量级) + CSS
- **构建工具**: Vite / Parcel (可选，若使用React)
- **样式**: Tailwind CSS (用于插件自身UI开发)
- **发布**: Chrome Web Store

## 5. 数据结构和API

### 5.1. 主要函数（Content Script）
```javascript
// 获取全局颜色和字体
function analyzeGlobalStyles() {
  // 遍历所有元素，使用 getComputedStyle 提取值，进行统计和去重
  // 返回: { colors: string[], fonts: string[] }
}

// 获取单个元素样式
function getElementStyles(element) {
  const styles = window.getComputedStyle(element);
  // 返回: {
  //   dimensions: { width, height },
  //   spacing: { margin, padding },
  //   colors: { background, color, border },
  //   typography: { fontFamily, fontSize, fontWeight },
  //   ...其他属性
  // }
}

// 将CSS属性转换为Tailwind类（简化示例）
function cssToTailwind(property, value) {
  // 例如: ('font-size', '16px') -> 'text-base'
  // 需要一个预定义的映射规则
}
```

## 6. MVP (最小可行产品) 范围

**第一期开发仅实现以下核心功能，以快速发布和验证市场：**
- FR1: 页面全局样式分析（颜色、字体）。
- FR2: 元素级样式提取（仅显示原始CSS代码）。
- FR3.1: 一键复制单个值。
- 一个简洁美观的Popup界面。

**以下功能划为V2版本（付费功能）：**
- FR3.2: 导出为Tailwind配置。
- FR3.2: 批量复制。
- 导出为其他格式（如CSS自定义属性）。
- 历史记录、收藏夹等功能。

---

## 7. 附录

### 7.1. 用户故事 (User Stories)
- **作为前端开发者**，我希望一键提取页面的主色板，以便快速在我项目的Tailwind配置中定义它们。
- **作为UI设计师**，我希望点击页面上的某个按钮，就能知道它的精确阴影、圆角和字体样式，以便在我的设计系统中保持一致。
- **作为学生**，我希望能简单地复制我喜欢的网站的某个颜色的HEX值，以便在我的项目中使用它。

### 7.2. 竞品分析
- **CSS Peeper**: 优秀，但UI略显过时，Tailwind集成弱。
- **Stylebot**: 更侧重于修改样式而非提取。
- **我们的优势**: 现代美观的UI、与Tailwind等现代开发栈的深度集成、极致的用户体验。

---
